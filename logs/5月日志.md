# 2021-5-4

### 10：20-19：00

1.过一遍系统功能，加一些模块。

#### 登录/注册 已完成

（合法性校验）

（添加背景）

(@定期清除 https://www.cnblogs.com/luozx207/p/10607696.html)

```

DELIMITER // 
create procedure del_regSession()
BEGIN
	DELETE FROM registersession WHERE cTime < unix_timestamp(now())-60;
END//
DELIMITER ;
```

```
create event del_regSession_event  
on schedule 
EVERY 1 minute  
STARTS '2021-5-4 00:00:00'  
do call del_regSession()
```



登录模块：

​	记住密码 已完成

​	localStorage里存储用户名 已完成

​	密码找回 已完成

注册模块： 已完成

​	添加邮箱字段

​	JS生成一个随机数->数据库里添加

生成随机数A->发送给邮箱

用户收到邮件->输入收到的随机数B

点击注册->检测内容->register.php收到->与checkMail字段做一个比对->添加USER；

点击忘记密码->发送随机码->往EditPassword添加一个数据->用户点击重置->比对随机数->修改数据库密码字段。

比对随机数A和随机数B



1.学习发送邮件

2.添加数据字段&&定时清除

3.写前端页面

4.写Php，JS逻辑



### 20：30-0：30

1.写毕业表

2.写文献翻译

3.写指导内容



# Remind

1.不用分发网络获取JS，CSS

2.改Localhost为https